"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[913],{6913:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),a=t(5716),l=t(2791),u="ProfileInfo_profileDescription__PVm52",c="ProfileInfo_mainPhoto__+XkrS",p=t(885),d=t(184),f=function(e){var s=(0,l.useState)(!1),t=(0,p.Z)(s,2),i=t[0],o=t[1],r=(0,l.useState)(e.userStatus),n=(0,p.Z)(r,2),a=n[0],u=n[1];(0,l.useEffect)((function(){u(e.userStatus)}),[e.userStatus]);return(0,d.jsxs)("div",{children:[!i&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.userStatus||"----------"})}),i&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onBlur:function(){o(!1),e.updateUserStatus(a)},autoFocus:!0,value:a,onChange:function(e){u(e.currentTarget.value)}})})]})},h=t(8389),v=t(8687),j=function(e){var s,t,i,o,r,n,a,l,p,j,x,g,m,k,P,b,S;(0,v.I0)();return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("img",{src:(null===(s=e.profile.photos)||void 0===s?void 0:s.large)||h,className:c,alt:"#"}),e.isOwner&&(0,d.jsx)("input",{type:"file",onChange:function(s){var t;null!==(t=s.target.files)&&void 0!==t&&t.length&&e.savePhoto(s.target.files[0])}}),(0,d.jsx)("div",{children:(0,d.jsx)("h2",{children:e.profile.fullName})}),(0,d.jsx)(f,{userStatus:e.status,updateUserStatus:e.updateUserStatus}),(0,d.jsxs)("div",{children:["About me: ",e.profile.aboutMe]}),(0,d.jsxs)("div",{children:["My Contacts:",(0,d.jsxs)("ul",{children:[null!==(t=e.profile)&&void 0!==t&&null!==(i=t.contacts)&&void 0!==i&&i.facebook?(0,d.jsx)("li",{children:e.profile.contacts.facebook}):(0,d.jsx)(d.Fragment,{}),null!==(o=e.profile)&&void 0!==o&&null!==(r=o.contacts)&&void 0!==r&&r.github?(0,d.jsx)("li",{children:e.profile.contacts.github}):(0,d.jsx)(d.Fragment,{}),null!==(n=e.profile)&&void 0!==n&&null!==(a=n.contacts)&&void 0!==a&&a.vk?(0,d.jsx)("li",{children:e.profile.contacts.vk}):(0,d.jsx)(d.Fragment,{}),null!==(l=e.profile)&&void 0!==l&&null!==(p=l.contacts)&&void 0!==p&&p.twitter?(0,d.jsxs)("li",{children:[e.profile.contacts.twitter," "]}):(0,d.jsx)(d.Fragment,{}),null!==(j=e.profile)&&void 0!==j&&null!==(x=j.contacts)&&void 0!==x&&x.instagram?(0,d.jsx)("li",{children:e.profile.contacts.instagram}):(0,d.jsx)(d.Fragment,{}),null!==(g=e.profile)&&void 0!==g&&null!==(m=g.contacts)&&void 0!==m&&m.mainLink?(0,d.jsx)("li",{children:e.profile.contacts.mainLink}):(0,d.jsx)(d.Fragment,{}),null!==(k=e.profile)&&void 0!==k&&null!==(P=k.contacts)&&void 0!==P&&P.website?(0,d.jsx)("li",{children:e.profile.contacts.website}):(0,d.jsx)(d.Fragment,{}),null!==(b=e.profile)&&void 0!==b&&null!==(S=b.contacts)&&void 0!==S&&S.youtube?(0,d.jsx)("li",{children:e.profile.contacts.youtube}):(0,d.jsx)(d.Fragment,{})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Job"}),e.profile.lookingForAJob?(0,d.jsx)("p",{children:"I am looking for a job"}):(0,d.jsx)("p",{children:"I have a job"}),e.profile.lookingForAJob?(0,d.jsx)("p",{children:e.profile.lookingForAJobDescription}):(0,d.jsx)(d.Fragment,{})]})]})})},x=t(81),g=t(2982),m="MyPosts_item__Bkf2q",k="Post_item__apsvX",P=function(e){return(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)("img",{src:"https://img.lovepik.com/original_origin_pic/18/08/08/0aaca4059b482f768b87625f9fd241e3.png_wh860.png",alt:"avatar"}),e.message,(0,d.jsxs)("div",{children:["+",e.likes," Like"]})]})},b=t(2268);var S=(0,v.$j)((function(e){return{postsData:e.profilePage.posts,value:e.profilePage.newPostText}}),(function(e){return{addPost:function(s){e((0,x.Wl)(s))}}}))((function(e){console.log("RENDER MY POSTS"),console.log(e);var s=(0,g.Z)(e.postsData).reverse().map((function(e){return(0,d.jsx)(P,{message:e.message,likes:e.likesCount},e.id)}));return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:(0,d.jsx)(b.l,{sendMessage:function(s){e.addPost(s)}})})}),s]})})),_=t(8388),F=function(e){var s=(0,v.v9)((function(e){return e.profilePage.status}));return console.log("RENDER PROFILE"),e.profile?(0,d.jsxs)("div",{children:[(0,d.jsx)(j,{imageLink:e.imageLink,profile:e.profile,status:s,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,d.jsx)(S,{})]}):(0,d.jsx)(_.p,{})},w=t(7781),y=t(9271),I=t(2932),U=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId+"")||this.props.history.push("/login"),this.props.profileThunkCreator(+e),this.props.setUserStatus(+e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){e.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(F,(0,i.Z)((0,i.Z)({},this.props.profile),{},{updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),t}(l.Component),C=(0,w.qC)((0,v.$j)((function(e){return console.log("MapStateToProps change profile"),{profile:e.profilePage,authorisedUserId:e.auth.id}}),{profileThunkCreator:x.EP,setUserStatus:x.Ix,updateUserStatus:x.OG,savePhoto:x.EC}),I.e,y.EN)(U)},8389:function(e,s,t){e.exports=t.p+"static/media/pngtree-user-vector-avatar-png-image_1541962.5d9ea6317191df85e1b9.jpg"}}]);
//# sourceMappingURL=913.9c41adb5.chunk.js.map