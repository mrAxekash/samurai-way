{"version":3,"file":"static/js/913.bb07f843.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusFC.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","webpack://samurai-way/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://samurai-way/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile_imgWrapper\":\"ProfileInfo_profile_imgWrapper__xM-2D\",\"profileDescription\":\"ProfileInfo_profileDescription__PVm52\"};","import * as React from 'react';\r\nimport {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\n\r\ntype ProfileStatusPropsType = {\r\n    userStatus: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusFC = (props: ProfileStatusPropsType) =>  {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.userStatus)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.userStatus)\r\n    }, [props.userStatus])\r\n\r\n    // в объекте для изменения стейта внутри объекта есть метод setState. Сам метод асинхронен, т.е. снаачла отработает функция, и отправит данные для изменения стейта в event loop. Затем, когда цикл дойдёт до выполнения этой задачи, выполнится функция, что приведет к изменению данных, и начнётся перерисовка React-ом приложения.\r\n\r\n    const activateMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateMode =  () => {\r\n        setEditMode(false)\r\n        props.updateUserStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    // componentDidUpdate(prevProps: Readonly<ProfileStatusPropsType>, prevState: Readonly<{}>) {\r\n    //     let state = this.state.status\r\n    //     if(this.props.userStatus !== prevProps.userStatus) {\r\n    //         this.setState({\r\n    //             status: this.props.userStatus\r\n    //         })\r\n    //     }\r\n    // }\r\n\r\n        return (\r\n            <div>\r\n                {!editMode && <div>\r\n                    <span\r\n                        onDoubleClick={activateMode}\r\n                        >\r\n                        {props.userStatus || '----------'}\r\n                    </span>\r\n                </div>}\r\n\r\n                {editMode && <div>\r\n                    <input\r\n                        onBlur={deactivateMode}\r\n                        autoFocus\r\n                        value={status}\r\n                        onChange={onStatusChange}\r\n                    />\r\n                </div>}\r\n            </div>\r\n        )\r\n};","import React from \"react\";\r\nimport classes from './ProfileInfo.module.css';\r\nimport {UserProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport { ProfileStatusFC } from \"./ProfileStatusFC\";\r\n\r\n\r\ntype ProfileInfoType = {\r\n    imageLink: string\r\n    profile: UserProfileType\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\nexport const ProfileInfo: React.FC<ProfileInfoType> = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={classes.profileDescription}>\r\n                <img src={props.profile.photos?.large ? props.profile.photos.large : '#' } alt=\"#\"/>\r\n\r\n                <div>\r\n                    <h2>{props.profile.fullName}</h2>\r\n                </div>\r\n\r\n                <ProfileStatusFC\r\n                    userStatus={props.status} updateUserStatus={props.updateUserStatus}/>\r\n                <div>\r\n                    About me: {props.profile.aboutMe}\r\n                </div>\r\n                <div>\r\n                    My Contacts:\r\n                        <ul>\r\n                            {props.profile?.contacts?.facebook ? <li>{props.profile.contacts.facebook}</li> : <></> }\r\n                            {props.profile?.contacts?.github ? <li>{props.profile.contacts.github}</li> : <></> }\r\n                            {props.profile?.contacts?.vk ? <li>{props.profile.contacts.vk }</li> : <></> }\r\n                            {props.profile?.contacts?.twitter ? <li>{props.profile.contacts.twitter } </li> : <></> }\r\n                            {props.profile?.contacts?.instagram ? <li>{props.profile.contacts.instagram }</li> : <></> }\r\n                            {props.profile?.contacts?.mainLink ? <li>{props.profile.contacts.mainLink }</li> : <></> }\r\n                            {props.profile?.contacts?.website ? <li>{props.profile.contacts.website }</li> : <></> }\r\n                            {props.profile?.contacts?.youtube ? <li>{props.profile.contacts.youtube }</li> : <></> }\r\n                        </ul>\r\n                </div>\r\n                <div>\r\n                    <h3>Job</h3>\r\n                    {props.profile.lookingForAJob ? <p>I am looking for a job</p> : <p>I have a job</p> }\r\n                    { props.profile.lookingForAJob ? <p>{props.profile.lookingForAJobDescription}</p> : <></> }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MyPosts_item__Bkf2q\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__apsvX\"};","import React from \"react\";\r\nimport classes from './Post.module.css';\r\n\r\ntype PostType = {\r\n    message: string,\r\n    likes: number,\r\n}\r\n\r\nexport const Post = (props: PostType) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img\r\n                src=\"https://img.lovepik.com/original_origin_pic/18/08/08/0aaca4059b482f768b87625f9fd241e3.png_wh860.png\"\r\n                alt=\"avatar\"/>\r\n            {props.message}\r\n            <div>+{props.likes} Like</div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {addPostActionCreator, PostsType} from \"../../../redux/profile-reducer\";\r\nimport {AllActionTypes} from \"../../../redux/store\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReducersType} from \"../../../redux/redux-store\";\r\n\r\n\r\nexport type MapStatePropsType = {\r\n    postsData: PostsType[]\r\n    value: string\r\n}\r\n\r\nexport type MapDispatchPropsType = {\r\n    addPost: (newPost: string) => void\r\n}\r\nexport type PostsContainerType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: RootReducersType): MapStatePropsType => {\r\n    return {\r\n        postsData: state.profilePage.posts,\r\n        value: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action: AllActionTypes) => void): MapDispatchPropsType => {\r\n    return {\r\n        addPost: (newPost: string) => {\r\n            dispatch(addPostActionCreator(newPost))\r\n        },\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from \"react\";\r\nimport classes from './MyPosts.module.css';\r\nimport {Post} from \"./Post/Post\";\r\nimport {PostsContainerType} from \"./MyPostsContainer\";\r\nimport {Form} from \"../../common/Form\";\r\n\r\n\r\nexport function MyPosts(props: PostsContainerType) {\r\n    console.log('RENDER MY POSTS')\r\n    console.log(props)\r\n\r\n    let postsElement = [...props.postsData].reverse().map(p => <Post key={p.id} message={p.message} likes={p.likesCount}/>)\r\n\r\n    const onClickHandler = (newPost: string) => {\r\n        props.addPost(newPost)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.item}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <div>\r\n                    <Form sendMessage={onClickHandler}/>\r\n                </div>\r\n            </div>\r\n\r\n            {postsElement}\r\n            {/*тут сидят компоненты, которые поочередно проходят через map и преобразуются с учётом полученных значений из BLL*/}\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfilePageType} from \"../../redux/profile-reducer\";\r\nimport {Preloader} from \"../common/preloader/Preloader\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootReducersType} from \"../../redux/redux-store\";\r\n\r\n\r\nexport const Profile = (props: ProfilePageType) => {\r\n    const profileStatus = useSelector<RootReducersType, any>(state => state.profilePage.status)\r\n    console.log('RENDER PROFILE')\r\n    console.log(props)\r\n    if (!props.profile) return <Preloader/>\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                imageLink={props.imageLink}\r\n                profile={props.profile}\r\n                status={profileStatus}\r\n                updateUserStatus={props.updateUserStatus}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    ProfilePageType,\r\n    profileStatusTC,\r\n    profileThunkCreator, updateStatusTC,\r\n    UserProfileType\r\n} from \"../../redux/profile-reducer\";\r\nimport {RootReducersType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype AllProfileType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\ntype userIdType = {\r\n    userId: string\r\n}\r\n\r\ntype RouterPropsType = RouteComponentProps<userIdType> & AllProfileType\r\n\r\nclass ProfileContainer extends React.Component<RouterPropsType> {\r\n\r\n\r\n    componentDidMount() {\r\n        // let userId = !this.props.match.params.userId ? '27215' :\r\n        //     this.props.match.params.userId\r\n\r\n        // let userId = !this.props.match.params.userId ? '27215' :\r\n        //     this.props.match.params.userId\r\n\r\n\r\n        //? this.props.history.push('/login') :\r\n\r\n        let userId = this.props.match.params.userId\r\n        if(!userId) {\r\n            userId = this.props.authorisedUserId + ''\r\n            if(!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n            // if(!userId) {\r\n            //     this.props.history.push('/login')\r\n            // }\r\n        }\r\n        this.props.profileThunkCreator(+userId)\r\n        this.props.setUserStatus(+userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Profile {...this.props.profile} updateUserStatus={this.props.updateUserStatus}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    profile: ProfilePageType\r\n    authorisedUserId: number | null\r\n\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    setUserProfile: (profileData: UserProfileType) => void\r\n    profileThunkCreator: (userId: number) => void\r\n    setUserStatus: (userId: number) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootReducersType): MapStateToPropsType => {\r\n    console.log('MapStateToProps change profile')\r\n    return {\r\n        profile: state.profilePage,\r\n        authorisedUserId: state.auth.id\r\n    }\r\n}\r\n\r\n\r\n// const mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n//     return {\r\n//         setUserProfile: (userProfile: UserProfileType) => {\r\n//             dispatch(setUsersProfileAC(userProfile))\r\n//         },\r\n//         profileThunkCreator: profileThunkCreator,\r\n//         setUserStatus: profileStaretusTC\r\n//     }\r\n// }\r\n\r\n//export default compose<React.FC>(withRouter, WithAuthRedirect, connect(mapStateToProps, {profileThunkCreator: profileThunkCreator}))(ProfileContainer)\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {\r\n    profileThunkCreator: profileThunkCreator,\r\n    setUserStatus: profileStatusTC,\r\n    updateUserStatus: updateStatusTC\r\n}), WithAuthRedirect, withRouter)(ProfileContainer)\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(ProfileContainer)\r\n//\r\n// const ProfileUserIdCount = withRouter(AuthRedirectComponent)\r\n//\r\n// export default connect(mapStateToProps, {profileThunkCreator: profileThunkCreator})(ProfileUserIdCount);\r\n"],"names":["ProfileStatusFC","props","useState","editMode","setEditMode","userStatus","status","setStatus","useEffect","onDoubleClick","onBlur","updateUserStatus","autoFocus","value","onChange","e","currentTarget","ProfileInfo","className","classes","src","profile","photos","large","alt","fullName","aboutMe","contacts","facebook","github","vk","twitter","instagram","mainLink","website","youtube","lookingForAJob","lookingForAJobDescription","Post","message","likes","MyPostsContainer","connect","state","postsData","profilePage","posts","newPostText","dispatch","addPost","newPost","addPostActionCreator","console","log","postsElement","reverse","map","p","likesCount","id","Form","sendMessage","Profile","profileStatus","useSelector","imageLink","Preloader","ProfileContainer","userId","this","match","params","authorisedUserId","history","push","profileThunkCreator","setUserStatus","React","compose","auth","profileStatusTC","updateStatusTC","WithAuthRedirect","withRouter"],"sourceRoot":""}